<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <button>对象转数组</button>
    <button>数组转对象</button>

    <script>
        var scoreObject = {
            "Tony": {
                "Math": 95,
                "English": 79,
                "Music": 68
            },
            "Simon": {
                "Math": 100,
                "English": 95,
                "Music": 98
            },
            "Annie": {
                "Math": 54,
                "English": 65,
                "Music": 88
            }
        }

        var menuArr = [
            [1, "Area1", -1],
            [2, "Area2", -1],
            [3, "Area1-1", 1],
            [4, "Area1-2", 1],
            [5, "Area2-1", 2],
            [6, "Area2-2", 2],
            [7, "Area1-2-3", 4],
            [8, "Area2-2-1", 6],
        ];

        var btn = document.getElementsByTagName('button');

        function toArray() {
            let scoreArray = new Array();
            for(key in scoreObject)
        {
            let temArray = new Array();
            temArray.push(key);
            temArray.push(scoreObject[key].Math);
            temArray.push(scoreObject[key].English);
            temArray.push(scoreObject[key].Music);
            scoreArray.push(temArray);
        }
            return scoreArray;
        }

        var temp = new Object();

        function toObject(n) {
            let menuObject = new Object();
            for(let i = n >= 0 ? n : 0; i < menuArr.length; i++)
            {
                if(Number(menuArr[i][2] === n))
                {
                    let t = 0;
                    for(let j = i; j < menuArr.length; j++)
                    {
                        if(Number(menuArr[j][2] === menuArr[i][0]))
                        {
                            t++;
                        }
                    }
                    if(t > 0)
                    {                    
                        menuObject[menuArr[i][0]] = {
                        name: menuArr[i][1],
                        subMenu: toObject(menuArr[i][0])
                    }
                    }else{
                        menuObject[menuArr[i][0]] = {
                        name: menuArr[i][1]
                    }
                    }                                      
                }                
            }           
            return menuObject;
            
        }

        btn[0].onclick = function() {
            let scoreArray = toArray();            
            for(let i = 0; i < scoreArray.length; i++)
            {
                console.log('[' + scoreArray[i].join(',') + ']');
                
            }                     
        }

        btn[1].onclick = function() {
            var menuObject = toObject(-1);
            console.log(menuObject);
        }

    </script>
</body>

</html>